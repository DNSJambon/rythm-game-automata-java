Mage(S1){

*(S1):
| Cell(F,O) ? Turn(D) : (S1)
| Cell(F,V) ? Move(F) : (S2)
 
* (S2):
| Cell(F,O) ? Wait() : (S3)
| Cell(F,V) ? Egg() : (S3)

* (S3):
| True() ? Wait() : (S1)

*()

}
